<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dashboard</title>
</head>
<body>


        <!-- flash message section -->
    {% with messages = get_flashed_messages() %}
    {% if messages %}
        <div class="alert alert-{{ messages[0][1] }}">
            <ul>
                {% for message in messages %}
                    <li style="color: green;">{{ message }}</li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}
    {% endwith %}<hr>

    <!----------------------common------------------------------>
    <h1>{{current_user.role}}-dashboard<br>
        <h3 style="color: rgb(176, 128, 6);">@[ {{current_user.username}} ]</h3>
    </h1><hr><hr>


    <!-----------------------admin------------------------------->
    {% if current_user.role == 'admin' %}
        <ul>
            <li>
                <h1>
                    STATISTICS
                </h1>
            </li>
        </ul>
    {% endif %}

    <!-----------------------user------------------------------->
    {% if current_user.role == 'user' %}
        <ul>
            <li>
                {# for api hit -> namespace_class_name #}
                <a href="{{ url_for('user.creator_register')}}">Register-as-creator</a>

            </li>
        </ul>

    {% endif %}



    <!-----------------------creator------------------------------->
    {% if current_user.role == 'creator' %}
        <ul>
            <li>
                <a style="color: #034577; text-decoration: none;" href="/upload_song">upload-song</a><br>
            </li>
             <li>
                <a style="color: #034577; text-decoration: none;" href="{{ url_for('playlist.create_playlist') }}">create-playlist</a>
            </li>

            <br><hr>
            <li>
                <a style="color: #034577; text-decoration: none;" href="{{ url_for('song.uploaded_songs') }}"><b>UPLOADED-SONG</b>S</a>
            </li>
           
            <br><hr>
            <h4>CREATED-PLAYLISTS</h4>
            {% if not playlists %}
                <h5 style="color: red;">No playlists! Create now from the option above!!</h5>
            {% endif %}

            {% for playlist in playlists %}
                <ul>
                    <li>
                        <a style="color: #034577; text-decoration: none;" href="{{ url_for('playlist.add_songs', id=playlist.id) }}"><b>{{ playlist.title }}</b></a>

                        <a style="color: #a40303; text-decoration: none;" href="{{ url_for('playlist.remove_playlist', id=playlist.id) }}">[ Delete ]</a>
                    </li>
                </ul>  
            {% endfor %}
            <hr><br>
            
        </ul>
    {% endif %}
    

    <!-----------------------common------------------------------->
    <hr><hr>
    <h4><a style="color: rgb(5, 138, 205); text-decoration: none;" href="{{url_for('user.logout')}}">Logout</a></h4>
</body>
</html>
