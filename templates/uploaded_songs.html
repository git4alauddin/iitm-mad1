{% extends 'layout.html' %}
{% block content %}
    <p id="heading">UPLOADED-SONGS</p>
    {% if not songs %}
        <h5 id="heading" style="color: red;">No songs! Upload songs and see them here</h5>
    {% else %}
        <table class="data-table">
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Artist</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                {% for song in songs %}
                    <tr class="data-row">
                        <td><a class="song-link" href="{{ url_for('song.play_song', id=song.id) }}">{{ song.title }}</a></td>
                        <td>{{ song.artist }}</td>
                        <td>
                            {% set action_url = url_for('song.delete_song', id=song.id) %}
                            <button id="delete-btn" onclick="showConfirmation('{{ action_url }}')">Delete <i class="fas fa-trash-alt"></i></button>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}
{% endblock %}